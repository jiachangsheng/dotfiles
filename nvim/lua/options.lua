
-- ============================================================================
-- ğŸŒŸ Neovim Editor Core Options - Structured & Commented (by NvChad + Custom)
-- ============================================================================

local opt = vim.opt
local o = vim.o
local g = vim.g

-- ============================================================================
-- ğŸ–¥ï¸ UI è®¾ç½®
-- ============================================================================
o.laststatus = 3             -- å…¨å±€çŠ¶æ€æ ï¼ˆç°ä»£é£æ ¼ï¼Œåº•éƒ¨åªä¿ç•™ä¸€æ¡ï¼‰
o.showmode = false           -- ä¸æ˜¾ç¤ºæ¨¡å¼æç¤ºï¼ˆä¾‹å¦‚ INSERTï¼‰ï¼Œäº¤ç”± statusline æ˜¾ç¤º
o.cursorline = true          -- é«˜äº®å½“å‰è¡Œ
o.cursorlineopt = "both"     -- åŒæ—¶é«˜äº®è¡Œå·ä¸æ•´è¡Œ
o.signcolumn = "yes"         -- å§‹ç»ˆæ˜¾ç¤º Git/linter ç­‰ç¬¦å·åˆ—
o.ruler = false              -- éšè—å³ä¸‹è§’åæ ‡ï¼ˆç”±çŠ¶æ€æ æ›¿ä»£ï¼‰

opt.fillchars = { eob = " " }-- éšè—ç©ºç¼“å†²åŒºå°¾éƒ¨çš„ `~` ç¬¦å·
opt.shortmess:append("sI")   -- ç¦ç”¨ Neovim å¯åŠ¨æç¤ºï¼ˆintro screenï¼‰

-- ============================================================================
-- ğŸ–±ï¸ æ“ä½œä½“éªŒä¸è¾“å…¥è®¾ç½®
-- ============================================================================
o.mouse = "a"                -- å¯ç”¨é¼ æ ‡æ§åˆ¶
o.clipboard = "unnamedplus" -- ä½¿ç”¨ç³»ç»Ÿå‰ªè´´æ¿
opt.shell = "pwsh"           -- è®¾ç½®é»˜è®¤ shellï¼ˆé€‚ç”¨äº Windowsï¼‰

-- ============================================================================
-- ğŸ” æœç´¢ç›¸å…³è®¾ç½®
-- ============================================================================
o.ignorecase = true          -- æœç´¢æ—¶å¿½ç•¥å¤§å°å†™
o.smartcase = true           -- å¦‚æœåŒ…å«å¤§å†™å­—ç¬¦ï¼Œåˆ™åŒºåˆ†å¤§å°å†™

-- ============================================================================
-- ğŸ§¾ ç¼©è¿›ä¸åˆ¶è¡¨ç¬¦è®¾ç½®ï¼ˆç»Ÿä¸€ 2 ç©ºæ ¼é£æ ¼ï¼‰
-- ============================================================================
o.expandtab = true           -- ä½¿ç”¨ç©ºæ ¼æ›¿ä»£ Tab
o.tabstop = 2                -- Tab æ˜¾ç¤ºä¸º 2 ä¸ªç©ºæ ¼
o.softtabstop = 2            -- æ’å…¥æ¨¡å¼ä¸­ Tab ä¸º 2 ç©ºæ ¼
o.shiftwidth = 2             -- >> ç¼©è¿›ä¸º 2 ç©ºæ ¼
o.smartindent = true         -- æ™ºèƒ½ç¼©è¿›ï¼ˆå¦‚è‡ªåŠ¨å¯¹é½ï¼‰

-- ============================================================================
-- ğŸ”¢ è¡Œå·ä¸å¯¼èˆªè®¾ç½®
-- ============================================================================
o.number = true              -- å¯ç”¨è¡Œå·
o.relativenumber = true      -- ç›¸å¯¹è¡Œå·ï¼ˆå¢å¼ºè·³è½¬ä½“éªŒï¼‰
o.numberwidth = 2            -- è¡Œå·åŒºåŸŸå®½åº¦
opt.whichwrap:append("<>[]hl") -- h/l å…è®¸è·¨è¡Œè·³è½¬

-- ============================================================================
-- ğŸ§± çª—å£è¡Œä¸ºè®¾ç½®
-- ============================================================================
o.splitright = true          -- æ°´å¹³åˆ†å±ä»å³ä¾§æ‰“å¼€
o.splitbelow = true          -- å‚ç›´åˆ†å±ä»ä¸‹æ–¹æ‰“å¼€

-- ============================================================================
-- â±ï¸ å‘½ä»¤å“åº”ä¸æ€§èƒ½
-- ============================================================================
o.timeoutlen = 400           -- æ˜ å°„æŒ‰é”®ç»„åˆçš„æœ€å¤§ç­‰å¾…æ—¶é—´(ms)
o.updatetime = 250           -- CursorHold äº‹ä»¶è§¦å‘é¢‘ç‡ï¼ˆå½±å“ gitsigns ç­‰ï¼‰

-- ============================================================================
-- ğŸ’¾ æ–‡ä»¶è¡Œä¸ºä¸æ’¤é”€å†å²
-- ============================================================================
o.undofile = true            -- å¯ç”¨æŒä¹…åŒ–æ’¤é”€ï¼ˆundo treeï¼‰

-- ============================================================================
-- ğŸš« ç¦ç”¨é»˜è®¤ provider æ’ä»¶ï¼ˆåŠ å¿«å¯åŠ¨ï¼‰
-- ============================================================================
g.loaded_node_provider = 0
g.loaded_python3_provider = 0
g.loaded_perl_provider = 0
g.loaded_ruby_provider = 0

-- ============================================================================
-- ğŸ› ï¸ ç¯å¢ƒå˜é‡ï¼šæ·»åŠ  Mason å®‰è£…å·¥å…·è·¯å¾„ï¼ˆLSP/DAP æ”¯æŒï¼‰
-- ============================================================================
local is_windows = vim.fn.has("win32") ~= 0
local sep = is_windows and "\\" or "/"
local delim = is_windows and ";" or ":"
vim.env.PATH = table.concat({
  vim.fn.stdpath("data"), "mason", "bin"
}, sep) .. delim .. vim.env.PATH

-- ============================================================================
-- âœ¨ è‡ªåŠ¨å‘½ä»¤ï¼šå¤åˆ¶ï¼ˆyankï¼‰æ—¶é«˜äº®
-- ============================================================================
vim.api.nvim_create_autocmd("TextYankPost", {
  desc = "Highlight when yanking (copying) text",
  group = vim.api.nvim_create_augroup("custom-highlight-yank", { clear = true }),
  callback = function()
    vim.highlight.on_yank()
  end,
})
